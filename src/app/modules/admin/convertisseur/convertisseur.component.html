<div class="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-8">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl">

    <!-- From Section -->
    <div class="bg-white shadow-lg rounded-2xl p-6">
      <div class="text-sm text-gray-500">From</div>
      <div class="text-xl font-semibold">{{ fromCurrency?.label }}</div>

      <div class="flex items-center gap-2 mt-4">
        <p-dropdown [options]="currencies"
                    [(ngModel)]="fromCurrency"
                    optionLabel="label"
                    class="w-full" placeholder="Devise source"></p-dropdown>
        <img *ngIf="fromCurrency" [src]="'https://flagcdn.com/48x36/' + fromCurrency.flag + '.png'"
             class="w-8 h-6 rounded" alt="flag" />
      </div>

      <input pInputText type="number" [(ngModel)]="amount"
             class="mt-6 text-4xl font-bold w-full text-center" placeholder="0" />

      <div class="mt-4 text-sm text-gray-600">
        Taux actuel : <span class="font-semibold">{{ currentRate }}</span>
      </div>
      <div class="text-green-600 text-sm" *ngIf="change !== null">
        â–² {{ change }} ({{ changePercent }}%)
      </div>
    </div>

    <!-- To Section -->
    <div class="bg-white shadow-lg rounded-2xl p-6">
      <div class="text-sm text-gray-500">To</div>
      <div class="text-xl font-semibold">{{ toCurrency?.label }}</div>

      <div class="flex items-center gap-2 mt-4">
        <p-dropdown [options]="currencies"
                    [(ngModel)]="toCurrency"
                    optionLabel="label"
                    class="w-full" placeholder="Devise cible"></p-dropdown>
        <img *ngIf="toCurrency" [src]="'https://flagcdn.com/48x36/' + toCurrency.flag + '.png'"
             class="w-8 h-6 rounded" alt="flag" />
      </div>

      <div class="mt-6 text-4xl font-bold text-center">
        {{ convertedAmount || '0.00' }}
      </div>

      <!-- Graphique ligne -->
      <p-chart type="line" [data]="chartData" [options]="chartOptions" class="mt-6 h-32"></p-chart>
    </div>

  </div>

  <button pButton type="button" label="Convertir" icon="pi pi-refresh"
          class="mt-6" (click)="convert()"
          [disabled]="!fromCurrency || !toCurrency || amount <= 0">
  </button>
</div>
